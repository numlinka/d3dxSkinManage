# auto_login
自动登录插件

开发者： [@黎愔](/contribution)

## 功能简介

该插件用于自动登录指定用户环境、登录时跳转至指定界面及指定启动 3dm 和其他程序（含防闪退模式）等

## 快速下载

:::info v1.0.6
更新日期:  2024-05-04<br/>
下载链接: [gitee](https://gitee.com/ticca/d3dx-skin-manage/releases/download/plugins/auto_login_v1.0.6.zip) <br/>
:::

## 使用教程

### 加载插件
首先，也是最基础的一步——**加载插件**，请参考 [插件使用教程](/help/tutorial-plugins)

### 配置自动登录参数
点击管理器右下角的 **[ 自动登录 ]** 按钮打开配置窗口即可进行参数配置，参数配置完成并保存后，管理器将按照所设置的配置工作。

![](/static/image/0f626b29.png)

以下是具体的参数说明：

**是否启用自动登录** 参数用于控制整个插件功能的启用状态。设置为 `否` 时，该插件的所有功能都不会生效。你可以在需要时再设置为 `是` 来启用自动登录插件的功能。

**自动登录用户环境** 参数用于设置程序启动时要自动登录的用户环境，默认为 `< 未设置 >`，即不进行自动登录用户环境操作。其他选项为你当前所拥有的用户环境，选择后在 <b>程序启动</b> 时会自动登录该选中的用户环境。_<weaken>推荐在经常只登录一个用户环境时启用。</weaken>_

**登录自动跳转界面** 参数用于指定在登录用户环境后自动跳转到的界面，选中 `< 默认 >` 情况下根据程序的自身逻辑进行跳转。若每次登录用户环境后需要都进入指定界面，可以自行选择对应的选项进行自动跳转。

**是否自动启动 3dm** 参数用于控制登录用户环境后是否自动启动 3dmigoto 程序。

**自动启动其他程序** 参数用于指定登录用户环境后自动启动 `游戏` 还是 `自定义启动项`。你也可以设置为 `无`，表示不启动任何程序。

**自动启动程序模式** 参数用于指定 **是否自动启动 3dm** 及 **自动启动其他程序** 都启用的情况下它们的执行顺序或执行逻辑。下面是各个选项的详细说明：

- **`先 3dm 后 其他`**：顾名思义，该模式会先启动 3dmigoto，然后再启动其他程序。你可以通过修改 **自动启动间隔时间** 参数来调整启动间隔时间，避免第一个程序未启动就触发后一个程序的启动导致启动失败。_<weaken>一般情况使用该选项即可。</weaken>_

- **`先 其他 后 3dm`**：顾名思义，该模式会先启动其他程序，然后再启动 3dmigoto。你可以通过修改 **自动启动间隔时间** 参数来调整启动间隔时间，避免第一个程序未启动就触发后一个程序的启动导致启动失败。_<weaken>一般不使用该选项。</weaken>_

- **`防闪退模式（内存监控）`**：
    - 该模式会先运行指定的其他程序后，再监控设置的 **防止闪退监测程序** 的运行内存是否达到 **防止闪退启动内存** 参数值。在达到时再启动 3dmigoto, 否则会一直等待直到达到为止或超过最大等待时间（1分钟）时停止启动操作。
    - **防止闪退监测程序** 参数设置为 `< 自适应 >` 时，会监控 **环境设置** - **用户设置** - **游戏路径** 下所设置的游戏程序，故请确保游戏路径里的路径是正确的，否则会因为检测不到对应的程序而启动失败。
    - **防止闪退启动内存** 参数值需要自行调整至理值，使得自启动时即不闪退且 3dmigoto 顺利注入。若自启动后 3dmigoto 未加载则需往小调，若自启动后游戏闪退则需大调。

- **`防闪退模式（断网重连）`**：
    - 该模式会在启用程序前先断开指定的网络后再启动对应的程序，在程序启动完后再开启网络连接。
    - **自动启动间隔时间** 参数用于调整启动 3dmigoto 和启动其他程序之间的间隔时，需要根据实际情况进行调整，避免第一个程序未启动就触发后一个程序的启动导致启动失败。
    - **自动禁用网络名称** 参数用于指定断网重连时需要断开和重连的网络名称，需要自行调整至正确的网络名称，否则会导致断网重连失败。一般选择 `< 自动获取 >` 参数，程序会自动获取当前连接的网络名称，但有时可能获取不到，此时则需要手动调整。
        :::warning 注意
        使用此模式时请确保只连接了一个网络，不用连接多个网络。
        :::
        :::tip 提示
        手动获取网络名称时，可参考本插件文件夹下附带的 `查找当前连接网络名称的方法.jpg` 图片中的查找方法。
        :::

- **`防闪退模式（重命名 Mods）`**：
    -  该模式会先将 **工作目录** 下的 `Mods` 文件夹先重命名为其他名字，再启动对应的程序，在启动程序完成后并等待设置的等待时间后，再将文件夹名称改回 `Mods`。
    - 该操作相对于先把模组全部卸载后再启动程序，所以在重命名回 `Mods` 后需要手动按下 `F10` 重新加载模组。_<weaken>由于管理器正常运行不能给管理员权限的问题，自动按下 F10 的操作无法实现，只能劳烦各位手动按下！</weaken>_
    - **自动启动间隔时间** 参数用于调整启动 3dmigoto 和启动其他程序之间的间隔时，需要根据实际情况进行调整，避免第一个程序未启动就触发后一个程序的启动导致启动失败。
    - **重新命名间隔时间** 参数是指启动完其他程序后间隔多久将 `Mod` 文件夹名称改回来。需求根据实际情况调整，避免 3dmigoto 还没注入完就把 `Mod` 文件夹名称改回来导致启动失败。


以上各种 **防闪退模式** 都有各自的优缺点，需要根据实际情况进行选择。只要哪个模式能不闪退进游戏，能解决你的问题，就使用那个模式。

### 一键启动功能
你可以通过 **环境设置** 界面中 **3DMigoto 版本** 下的 `一键启动` 按钮手动触发你所设置的自动登录配置中 **自动启动程序模式** 对应的操作。_<weaken>但请不要重复启动，否则可能遇到意想不到的情况！</weaken>_

![](/static/image/735eabd7.png)

## 视频教程链接

[基础功能教程](https://www.bilibili.com/video/BV1TJ4m1n7tQ) | [防闪退模式使用教程](https://www.bilibili.com/video/BV1vZ42177oG/) | [断网重连模式网络名称获取方法](https://www.bilibili.com/video/BV1Zt421F7k7/)

视频教程由 [@黎愔](/contribution) 录制和提供。

## 更新日志

### v1.0.6
#### 新增
- 退出主程序时，若一键启动 3dm 及其他程序进程正在进行，给予终止提示

#### 修复
- 修复 `重新命名间隔时间` 选项默认参数值为 1 而非 10 的问题

### v1.0.5
#### 新增
- 自动启动程序模式新增 `防闪退模式（断网启动）` 选项
- 自动启动程序模式新增 `防闪退模式（重命名 Mods）` 选项
- 环境设置界面下的 3DMigoto 版本下的 `一键启用` 按钮可以手动触发 自动启动程序模式 对应的操作

#### 修改
- 原先的 `防闪退模式` 更名为 `防闪退模式（内存监控）`

#### 优化
- `防止闪退启动内存` 选项合法范围的最大值修改为 1024 MB，最低值仍为 0 MB，默认值仍为 100 MB
- `防止闪退启动内存` 选项添加修改内存单位功能，可根据需求调整单位

### v1.0.4
#### 优化
- `防止闪退启动内存` 选项合法范围的最低值修改为 0 MB，最大值仍为 1000 MB，默认值修改为 100 MB，使用`防闪退模式`模式时请自行调增该参数值合理值，使得自启动时即不闪退且 3dm 顺利注入

### v1.0.3
#### 新增
- 自动启动程序模式参数新增 `防闪退模式`

### v1.0.2
#### 新增
- 新增自动启动程序模式参数，可以指定启动程序的顺序，如：`先 3dm 后 其他` 或 `先 其他 后 3dm`

### v1.0.1
#### 新增
- 自动登录用户环境新增 `< 未设置 >` 选项，选中它即代表不进行自动登录用户环境
- 登录自动跳转界面新增 `< 默认 >` 选项，选中它即代表登录用户环境后不进行自动跳转界面

### v1.0
#### 新增
- 程序右下角新增自动登录选项按钮，通过点击它进行配置自动登录参数
- 程序启动时自动读取自动登录配置并自动进行对应自动登录指定用户环境、登录时跳转至指定界面及指定启动 3dm 和其他程序等的操作