# auto_reload_mods
自动重载模组插件

开发者： [@黎愔](/contribution)

## 功能简介

该插件可以辅助你自动完成重新加载 3dmigto 模组的操作，通俗说就是在管理器中更新启用的模组后自动按下 `F10` 操作。

以下为实现原理简介，若你只想知道如何使用，直接查看[使用教程](#使用教程)相关内容即可：

由于管理器默认不推荐使用管理员权限，但实现自动按键功能需要管理员权限。因此，此插件采用创建具有管理员权限的子进程用于实现自动按键功能，并使用`套接字`服务实现进程间通信。

## 快速下载

:::info v1.0
更新日期:  2024-10-19<br/>
下载链接: [gitee](https://gitee.com/ticca/d3dx-skin-manage/releases/download/plugins/auto_reload_mods.zip) <br/>
:::

## 使用教程

### 加载插件
首先，也是最基础的一步——**加载插件**，请参考 [插件使用教程](/help/tutorial-plugins)

### 启动服务
然后，点击管理器右下角的 **[ 自动登录 ]** 按钮打开服务配置窗口，配置完参数后，点击 **启动服务** 即可启动服务。若只想保存配置，请点击 **保存配置** 按钮。

![](/static/image/94bd1578.png)

以下是具体的参数说明：

**是否自动启用重载模组** 参数用于设置管理器启动时是否要自动启动重载模组服务。

**是否静默启动重载模组** 参数用于设置管理器启动时是否要静默启动重载模组服务，即是否显示服务配置窗口。

**IP 地址** 参数用于设置 `套接字` 服务运行的 IP 地址，通常设置为本地环回地址 `localhost` 或 `127.0.0.1` 即可。_<weaken>你若想调皮不设置为本地环回地址，那就准备接收报错的洗礼吧！你有服务器的话那当我没说过前面那句话！！</weaken>_ 

**端口号** 参数用于设置 `套接字` 服务运行的端口号，通常保持默认 `39625` 即可。若在 **IP 地址** 为本地环回地址时触发报错，可能是该端口号被占用，你可以通过修改该参数后重试。

:::tip 提示
将 **是否自动启用重载模组** 参数设置为 `是` 及 **是否静默启动重载模组** 参数设置为 `是` 后，下次打开管理器时，插件会自动启动服务。除非服务启动失败，否则无需进行手动启动服务。你只需按以前的操作正常使用管理器即可。<br />
_<weaken>故：若经常需要自动重载模组，建议按以上说明配置，减少操作流程。</weaken>_
:::

### 配置监控参数
在服务器启用后，你可以在打开的监控配置窗口中设置 **重载模组程序** 及 **重载模组按键** 参数，以便适配部分人自行修改快捷键的情况。

![](/static/image/71508bb8.png)

以下是具体的参数说明：

**重载模组程序** 参数用于设置要进行自动重载模组操作的游戏程序。当该参数设置为 `< 自适应 >` 时，会监控 `环境设置` - `用户设置` - `游戏路径` 下所设置的游戏程序，故请确保游戏路径里的路径是正确的，否则会因为检测不到对应的程序导致插件弹出报错窗口，无法完成自动重载模组操作。

**重载模组按键** 参数用于设置要进行自动重载模组操作所需要按下的快捷键。除 `单字符按键` 外，目前该参数中所支持的其他按键的字符串表示及其对应的按键请查看 [支持按键键值表
](#支持按键键值表)。                

### 触发重载模组
服务器启动后，在 [启用](/help/tutorial-modules#启用和切换模组) 或 [卸载](/help/tutorial-modules.html#卸载模组) 模组时，会自动向子程序发送模组更新信息。此后，当你重新聚焦 **重载模组程序** 参数中所指定的游戏程序窗口时，子程序就会自动按下 **重载模组按键** 参数中所指定的快捷键，实现自动重载模组。

简单来讲，就是启动服务器并 [启用](/help/tutorial-modules#启用和切换模组) 或 [卸载](/help/tutorial-modules.html#卸载模组) 模组后，重新聚焦游戏窗口，即可自动触发重载模组操作。

### 终止服务
在想要停止自动重载模组操作时，你可以点击 **终止服务** 按钮来终止服务以终止自动重载模组操作。

![](/static/image/0d568a5d.png)

此外，若你在服务器启用时关闭管理器，服务器也是会被自动终止的，以避免对服务端口及进程的占用。

### 补充内容
:::tip 提示
插件文件夹下的 `get_SR_images.exe` 的文件源码为 `get_sr_images.py`。
:::

## 支持按键键值表
以下为 **重载模组按键** 参数除 `单字符按键` 外，目前所支持的其他按键的字符串表示及其对应的按键：

| 键值 | 对应按键 | 键值 | 对应按键 |
|------|----------|------|----------|
| `f1` | F1 键   | `f2` | F2 键   |
| `f3` | F3 键   | `f4` | F4 键   |
| `f5` | F5 键   | `f6` | F6 键   |
| `f7` | F7 键   | `f8` | F8 键   |
| `f9` | F9 键   | `f10`| F10 键  |
| `f11`| F11 键  | `f12`| F12 键  |
| `shift`| Shift 键| `ctrl`| Ctrl 键 |
| `alt` | Alt 键  | `esc` | Esc 键  |
| `enter`| Enter 键| `space`| 空格键  |
| `backspace`| Backspace 键| `tab` | Tab 键  |
| `caps_lock`| Caps Lock 键 (大写锁定键)| `num_lock`| Num Lock 键 |
| `scroll_lock`| Scroll Lock 键| `insert`| Insert 键 |
| `delete`| Delete 键| `home` | Home 键 |
| `end` | End 键  | `menu` | Menu 键 |
| `page_down`| Page Down 键| `page_up`| Page Up 键 |
| `up`  | 上箭头键 (↑) | `down` | 下箭头键 (↓)|
| `left`| 左箭头键 (←) | `right`| 右箭头键 (→)|
| `print_screen`| Print Screen 键| `pause`| Pause 键 |

<!-- ## 视频教程链接

[基础功能教程]()

视频教程由 [@黎愔](/contribution) 录制和提供。 -->

## 更新日志

### v1.0
#### 新增
- 通过套接字服务器方式实现自动重新加载模组功能
